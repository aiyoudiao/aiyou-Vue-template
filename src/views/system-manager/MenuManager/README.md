# 菜单管理

## 思路

角色暂定是一层树结构，root -> role-node ，全部角色 -> 某个角色
之后扩展，可以是 root -> role-type-root -> role-node 这样的多层树结构，全部角色 -> 对应的角色类型 -> 某个角色

### 设计

#### 20200725pm2355-zph 之前  
点击全部角色后，会显示整个权限树，所有操作按钮都会隐藏掉
点击某个角色后，只显示那个角色的权限树，所有操作按钮可以显示

#### 202000725pm2355-zph

1. 给树形表格加上复选框，选择全部角色时，没有复选框，只有一个树形表格
2. 选择某个角色时，把这个角色的值替换成树形表格中的某一部分，也就是合并配置了，并且加上复选框，同时选中。
3. 获取某个角色时，也就是把选中复选的树形表格字段取出来，作为该角色的菜单权限数据。

#### 20200726am0016-zph

1. 先将不同角色的数组给扁平化，以数组中第一层对象的name为key，数组中第一层的对象为value，从而实现数组转对象。
2. 然后将全部角色的菜单权限也象 1 中将数组转换成对象。
3. 遍历不同角色的扁平化后的对象的key，然后修改全部角色中的菜单权限，同时修改是否复选框选中的数据。
4. 最后给修改后的全部角色中的菜单权限添加一个复选框的列，然后在表格中展示出来。

5. 其实应该递归的将数组及children中的数组也一并进行数组转对象。
6. 写一个递归的方法，递归的对比一下，递归的赋值，递归的添加是否复选框选中的数据。
7. 最后再递归的将对象转换成数组。

